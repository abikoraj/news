"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3727],{3727:(x,d,o)=>{o.r(d),o.d(d,{CategoryNewsPageModule:()=>M});var h=o(520),p=o(9808),m=o(4182),r=o(9537),g=o(9800),l=o(3546),t=o(2096),C=o(2325);const f=["scroller"];function P(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().open(c)}),t.TgZ(1,"div",8)(2,"div",9)(3,"h6"),t._uU(4),t.qZA(),t.TgZ(5,"div",10),t._UZ(6,"img",11),t.qZA(),t.TgZ(7,"h6"),t._uU(8),t._UZ(9,"br"),t._uU(10," # "),t.TgZ(11,"small"),t._uU(12),t.qZA()()()()()}if(2&n){const e=s.$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.s9C("src",e.image,t.LSH),t.xp6(2),t.hij(" ",e.website," "),t.xp6(4),t.hij(" ",e.category," ")}}const w=[{path:"",component:(()=>{class n{constructor(e,i,a,c){this.route=e,this.client=i,this.router=a,this.highway=c,this.loading=!1,this.page=0,this.next="https://apikhazom.gharsaaman.com/api/get?cat=",this.default="https://apikhazom.gharsaaman.com/api/get?cat=",this.last=0,this.data=[],this.cat="",this.title="#----------"}ngOnInit(){this.cat=this.route.snapshot.paramMap.get("cat"),this.title="#"+l.Z.cats.find(e=>e.id===parseInt(this.cat,10)).name,this.next+=this.cat,this.default+=this.cat,this.getData()}getData(){this.loading||(this.loading=!0,this.client.get(this.next).subscribe(e=>{console.log(e);const i=e.data.map(function(a,c){return{id:a.id,title:a.title,image:a.image,link:a.link,category:l.Z.cats.find(u=>u.id===a.category).name,website:l.Z.source[a.website-1]}});console.log(i),this.data=this.data.concat(i),this.page=e.current_page,this.last=e.last_page,this.page===this.last?this.scroller.disabled=!0:this.next=e.next_page_url,this.loading=!1,this.scroller.complete()},e=>{this.loading=!1}))}open(e){this.highway.data=e,this.router.navigate(["/news"])}doRefresh(e){this.getData()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz),t.Y36(h.eN),t.Y36(g.F0),t.Y36(C.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-news"]],viewQuery:function(e,i){if(1&e&&t.Gf(f,5),2&e){let a;t.iGM(a=t.CRH())&&(i.scroller=a.first)}},decls:13,vars:2,consts:[["slot","start"],[1,"container"],[1,"card-holder"],["class","card-wrapper",3,"click",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["scroller",""],["loadingSpinner","bubbles","loadingText","Loading more data..."],[1,"card-wrapper",3,"click"],[1,"card"],[1,"card-body"],[1,"image"],["alt","",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.qZA()()(),t.TgZ(6,"ion-content")(7,"div",1)(8,"div",2),t.YNc(9,P,13,4,"div",3),t.qZA()(),t.TgZ(10,"ion-infinite-scroll",4,5),t.NdJ("ionInfinite",function(c){return i.doRefresh(c)}),t._UZ(12,"ion-infinite-scroll-content",6),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(i.title),t.xp6(4),t.Q6J("ngForOf",i.data))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,p.sg,r.ju,r.MB],styles:[".container[_ngcontent-%COMP%]{margin:15px}.container[_ngcontent-%COMP%]   .card-holder[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -15px}.container[_ngcontent-%COMP%]   .card-holder[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{width:25%;padding:15px}@media (max-width: 425px){.container[_ngcontent-%COMP%]   .card-holder[_ngcontent-%COMP%]{display:display;flex-wrap:wrap;margin:0}.container[_ngcontent-%COMP%]   .card-holder[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{width:100%;padding:0}}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 0 8px #00000026;margin-bottom:10px;border-radius:10px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.5rem}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;box-shadow:0 0 8px #00000014}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(w)],g.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,m.u5,r.Pc,h.JF,y]]}),n})()}}]);